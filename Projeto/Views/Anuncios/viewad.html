<div ng-controller="ViewAdController">
    <div class="view-image float_l">
        <img src="{{ad.imagem}}" width="180" height="240"/>
        Postado por: {{ad.usuario}}
        <a ng-click="openNegociarModal()" id="negociarAdId" class="btn btn-primary center-bloc">Negociar</a>
    </div>
    <h3>&nbsp&nbsp{{ad.nome}}</h3>
    <div class="row">
        <div class="form-group col-md-4">
            <label for="campo2">Autor</label>
            <p>{{ad.autor}}</p>
        </div>
        <div class="form-group col-md-4">
            <label for="campo2">Edição</label>
            <p>{{ad.edicao}}</p>
        </div>
        <div class="form-group col-md-4">
            <label for="campo2">Editora</label>
            <p>{{ad.editora}}</p>
        </div>
        <div class="form-group col-md-4">
            <label for="campo2">Ano</label>
            <p>{{ad.ano}}</p>
        </div>
        <div class="form-group col-md-4">
            <label for="campo2">Condições</label>
            <p>{{ad.condicao}}</p>
        </div>
        <div class="form-group col-md-4">
            <p><strong>{{ad.tipo}} - R${{ad.valor}}</strong></p>

        </div>   

    </div> 

    <div class="pull-right" ng-controller="ComentarioController">
        <div class="row" ng-repeat="comment in comments">
            Postado por: {{comment.usuario}} em {{comment.date}}
            <p>{{comment.texto}}</p>
            <hr>
        </div>
        <div id="idComentario" class="col-md-12" ng-controller="AskAdController">
            <form style="float:right;" class="form-group">
                Deixe seu comentário:<br>
                <textarea ng-model="question" rows="4" cols="70"></textarea>
                <br><br>
                <a ng-click="askAd()" class="btn btn-primary pull-right">Enviar</a>
            </form>
        </div>
    </div>    


    <div id="actions" class="row center-block" ng-controller="AddFavoriteController">
        <div class="col-md-12">
            <a href="#anuncios" class="btn btn-default">Voltar</a>
            <a id="adFavoriteId" class="btn btn-primary" ng-click="addFavorite()">Adicionar aos Favoritos</a>
        </div>
    </div> 

    <div class="modal fade" id="sucess-modal" tabindex="-1" role="dialog" aria-labelledby="modalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Fechar"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="modalLabel">Anúncio cadastrado como favorito!</h4>
                </div>
                <div class="modal-footer">
                    <a data-dismiss="modal" class="btn btn-default">Voltar</a>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="fail-modal" tabindex="-1" role="dialog" aria-labelledby="modalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Fechar"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="modalLabel">Anúncio já estava cadastrado como favorito!</h4>
                </div>
                <div class="modal-footer">
                    <a data-dismiss="modal" class="btn btn-default">Voltar</a>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="negociarModal" tabindex="-1" role="dialog" aria-labelledby="modalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Fechar"><span aria-hidden="true">&times;</span></button>
                    <h4 >Envie uma mensagem e inicia uma negociação:</h4>
                </div>
                <div ng-controller="MensagemNegociarController"> 
                <div class="modal-body" >
                    <form  class="form-group">
                Escreva sua mensagem aqui:
                <textarea ng-model="mensagem" rows="4" cols="70"></textarea>
            </form>
                </div>
                <div class="modal-footer">
                    <a data-dismiss="modal" class="btn btn-default">Voltar</a>
                    <a ng-click="enviarMensagem()" class="btn btn-primary">Enviar</a>

                </div>
                </div>
            </div>
        </div>
    </div>  
    
        <div class="modal fade" id="confirmaNegociacao" tabindex="-1" role="dialog" aria-labelledby="modalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Fechar"><span aria-hidden="true">&times;</span></button>
                    <h4 >Sua mensagem foi enviada com sucesso e uma negociação foi iniciada!</h4>
                <div class="modal-footer">
                    <a data-dismiss="modal" class="btn btn-default">Voltar</a>
                </div>
            </div>
        </div>
    </div> 